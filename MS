<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Updated viewport for mobile app feel -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Circuit Poster</title>
    
    <!-- Android App Meta Tags -->
    <meta name="theme-color" content="#1e293b">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href='data:application/manifest+json,{"name":"Circuit Poster","short_name":"Circuits","display":"standalone","background_color":"#1e293b","theme_color":"#1e293b"}'>

    <!-- Load Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load React -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Load Babel to process JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // CSS for the electron flow animation
        const styles = `
          @keyframes electron-flow {
            0% { stroke-dashoffset: 24; }
            100% { stroke-dashoffset: 0; }
          }
          .electrons {
            stroke: #ef4444;
            stroke-width: 4;
            stroke-linecap: round;
            stroke-dasharray: 4 16;
            animation: electron-flow 0.6s linear infinite;
            fill: none;
            pointer-events: none;
          }
          .poster-bg {
            background-color: #f8fafc;
            background-image: 
              linear-gradient(#e2e8f0 1px, transparent 1px),
              linear-gradient(90deg, #e2e8f0 1px, transparent 1px);
            background-size: 20px 20px;
          }
        `;

        function App() {
          // --- SERIES STATE ---
          const [seriesSwitch, setSeriesSwitch] = useState(false);
          const [seriesB1Broken, setSeriesB1Broken] = useState(false);
          const [seriesB2Broken, setSeriesB2Broken] = useState(false);

          // Series Logic
          const seriesFlow = seriesSwitch && !seriesB1Broken && !seriesB2Broken;
          const seriesAmps = seriesFlow ? "1.5" : "0.0";
          const seriesVolts = seriesFlow ? "4.5" : "0.0";

          // --- PARALLEL STATE ---
          const [parallelSwitch, setParallelSwitch] = useState(false);
          const [parallelB1Broken, setParallelB1Broken] = useState(false);
          const [parallelB2Broken, setParallelB2Broken] = useState(false);

          // Parallel Logic
          const pBranch1Flow = parallelSwitch && !parallelB1Broken;
          const pBranch2Flow = parallelSwitch && !parallelB2Broken;
          const pMainFlow = pBranch1Flow || pBranch2Flow;
          
          const pBranch1Amps = pBranch1Flow ? 3.0 : 0.0;
          const pBranch2Amps = pBranch2Flow ? 3.0 : 0.0;
          const pTotalAmps = (pBranch1Amps + pBranch2Amps).toFixed(1);
          const pBranch1Volts = pBranch1Flow ? "9.0" : "0.0";
          const pBranch2Volts = pBranch2Flow ? "9.0" : "0.0";

          // Helper component for Bulbs
          const Bulb = ({ x, y, isBroken, isGlowing, onClick, label }) => (
            <g onClick={onClick} className="cursor-pointer group">
              {isGlowing && !isBroken && (
                <circle cx={x} cy={y} r="24" fill="#fef08a" opacity="0.6" className="animate-pulse" />
              )}
              <circle 
                cx={x} cy={y} r="16" 
                className={`fill-white stroke-2 transition-colors ${isBroken ? 'stroke-slate-400 fill-slate-200' : 'stroke-slate-800 group-hover:stroke-amber-500'}`} 
              />
              {isBroken ? (
                <path d={`M ${x-8} ${y-8} L ${x+8} ${y+8} M ${x+8} ${y-8} L ${x-8} ${y+8}`} className="stroke-slate-500 stroke-2" />
              ) : (
                <path d={`M ${x-11} ${y-11} L ${x+11} ${y+11} M ${x+11} ${y-11} L ${x-11} ${y+11}`} className="stroke-slate-800 stroke-2" />
              )}
              <text x={x} y={y+30} textAnchor="middle" className="text-[10px] font-bold fill-slate-600">{label}</text>
              {isBroken && <text x={x} y={y-22} textAnchor="middle" className="text-[12px] font-bold fill-red-500">BROKEN</text>}
            </g>
          );

          // Helper component for Switches
          const Switch = ({ x, y, isClosed, onClick, isVertical }) => (
            <g onClick={onClick} className="cursor-pointer group">
              <circle cx={x} cy={y} r="4" className="fill-slate-800 group-hover:fill-amber-500" />
              <circle cx={isVertical ? x : x + 40} cy={isVertical ? y + 40 : y} r="4" className="fill-slate-800 group-hover:fill-amber-500" />
              <line 
                x1={x} y1={y} 
                x2={isVertical ? x : x + 40} y2={isVertical ? y + 40 : y} 
                className="stroke-slate-800 stroke-[3px] transition-all duration-300 origin-top"
                style={{
                  transformOrigin: `${x}px ${y}px`,
                  transform: isClosed ? 'rotate(0deg)' : (isVertical ? 'rotate(-30deg)' : 'rotate(-30deg)')
                }}
              />
              <rect x={x-15} y={y-15} width={isVertical ? 30 : 70} height={isVertical ? 70 : 30} fill="transparent" />
              <text x={isVertical ? x-15 : x+20} y={isVertical ? y+20 : y-15} textAnchor="middle" className="text-[10px] font-bold fill-amber-600 font-sans">
                {isClosed ? 'CLOSE' : 'OPEN'}
              </text>
            </g>
          );

          // Alert handler for the placeholder QR code
          const handleQrClick = () => {
            alert("This QR code is currently a placeholder. Once you host this on GitHub Pages, replace 'YOUR_LINK_HERE' in the code with your actual github.io link!");
          };

          return (
            <div className="min-h-screen bg-slate-800 p-2 md:p-4 flex flex-col items-center justify-center font-sans overflow-hidden">
              <style>{styles}</style>

              {/* Interactive Legend */}
              <div className="mb-2 flex gap-4 text-xs font-bold text-white bg-slate-700/50 px-4 py-2 rounded-full border border-slate-600 shadow-lg backdrop-blur-sm">
                <span className="flex items-center gap-2">üëÜ <span className="text-amber-400">Click Switches</span> to toggle</span>
                <span className="flex items-center gap-2">üí• <span className="text-red-400">Click Bulbs</span> to break</span>
              </div>

              {/* A3 Poster Container */}
              <div className="poster-bg w-full max-w-[1000px] aspect-[1.414/1] shadow-2xl rounded-sm border-2 border-slate-300 overflow-hidden relative flex flex-col">
                
                {/* HEADER */}
                <div className="text-center pt-4 pb-2 border-b-4 border-slate-800 bg-white shadow-sm shrink-0 relative">
                  
                  {/* QR Code Placeholder */}
                  <div 
                    className="absolute right-4 top-3 hidden sm:flex flex-col items-center cursor-pointer group"
                    onClick={handleQrClick}
                    title="Click for instructions on how to activate this QR code!"
                  >
                    <img 
                      src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=YOUR_LINK_HERE" 
                      alt="QR" 
                      className="w-12 h-12 lg:w-16 lg:h-16 p-1 bg-white border border-slate-300 shadow-sm rounded-sm group-hover:ring-2 group-hover:ring-blue-500 transition-all" 
                    />
                    <span className="text-[8px] lg:text-[10px] font-bold mt-1 text-slate-700 leading-tight">SCAN FOR</span>
                    <span className="text-[8px] lg:text-[10px] font-bold text-slate-500 leading-tight">INTERACTIVE</span>
                  </div>

                  <h1 className="text-2xl md:text-3xl lg:text-4xl font-black tracking-tight text-slate-800 uppercase">
                    <span className="text-blue-600">Current</span> & <span className="text-red-600">Voltage</span>: 
                    <span className="text-amber-500 ml-2">Series vs Parallel</span>
                  </h1>
                  <p className="text-slate-600 mt-1 font-bold tracking-widest uppercase text-[10px] lg:text-xs">
                    Grade 8 Science Project ‚Ä¢ Interactive Diagram
                  </p>
                  <p className="text-slate-500 mt-1 font-medium text-[10px] lg:text-xs">
                    Student: <strong>Mohammed Al Sabea</strong> | School: <strong>EPS</strong> | Class: <strong>8E</strong>
                  </p>
                </div>

                {/* MAIN CONTENT */}
                <div className="flex flex-row flex-grow overflow-x-auto">
                  
                  {/* LEFT: SERIES CIRCUIT */}
                  <div className="w-1/2 min-w-[300px] p-2 lg:p-4 flex flex-col border-r-4 border-slate-800 bg-white/50">
                    <h2 className="text-lg lg:text-xl font-bold text-center text-slate-800 mb-2 bg-white p-1 border-2 border-slate-800 rounded-lg shadow-[2px_2px_0px_#1e293b]">
                      Series Circuit
                    </h2>
                    
                    {/* Diagram */}
                    <div className="bg-white rounded-xl shadow-inner border-2 border-slate-300 p-2 mb-2 relative aspect-video flex items-center justify-center">
                      <svg viewBox="0 0 400 300" className="w-full h-full">
                        <path d="M 100 50 L 300 50 L 300 220 L 100 220 Z" className="stroke-slate-800 stroke-[3px] fill-none" />
                        
                        <line x1="180" y1="50" x2="220" y2="50" className="stroke-white stroke-[8px]" />
                        <line x1="100" y1="90" x2="100" y2="130" className="stroke-white stroke-[8px]" />
                        <line x1="100" y1="160" x2="100" y2="200" className="stroke-white stroke-[8px]" />
                        <line x1="150" y1="220" x2="190" y2="220" className="stroke-white stroke-[8px]" />
                        <line x1="230" y1="220" x2="270" y2="220" className="stroke-white stroke-[8px]" />

                        {seriesFlow && (
                          <path d="M 100 130 L 100 220 L 300 220 L 300 50 L 100 50 L 100 90" className="electrons" />
                        )}

                        <line x1="190" y1="30" x2="190" y2="70" className="stroke-slate-800 stroke-[2px]" />
                        <line x1="210" y1="40" x2="210" y2="60" className="stroke-slate-800 stroke-[5px]" />
                        <text x="200" y="25" textAnchor="middle" className="text-[12px] font-bold fill-slate-600">9V Cell</text>

                        <Switch x={100} y={90} isClosed={seriesSwitch} isVertical={true} onClick={() => setSeriesSwitch(!seriesSwitch)} />

                        <circle cx="100" cy="180" r="16" className="fill-blue-50 stroke-blue-600 stroke-2" />
                        <text x="100" y="184" textAnchor="middle" className="text-[14px] font-bold fill-blue-800">A</text>
                        <text x="65" y="184" textAnchor="end" className="text-[14px] font-bold fill-blue-600">{seriesAmps}A</text>

                        <Bulb x={170} y={220} isBroken={seriesB1Broken} isGlowing={seriesFlow} label="Bulb 1" onClick={() => setSeriesB1Broken(!seriesB1Broken)} />
                        <Bulb x={250} y={220} isBroken={seriesB2Broken} isGlowing={seriesFlow} label="Bulb 2" onClick={() => setSeriesB2Broken(!seriesB2Broken)} />

                        <path d="M 145 220 L 145 270 L 195 270 L 195 220" className="stroke-red-400 stroke-[2px] border-dashed fill-none" strokeDasharray="6 4" />
                        <circle cx="170" cy="270" r="14" className="fill-red-50 stroke-red-600 stroke-2" />
                        <text x="170" y="274" textAnchor="middle" className="text-[12px] font-bold fill-red-800">V</text>
                        <text x="170" y="296" textAnchor="middle" className="text-[12px] font-bold fill-red-600">{seriesVolts}V</text>

                        <path d="M 225 220 L 225 270 L 275 270 L 275 220" className="stroke-red-400 stroke-[2px] border-dashed fill-none" strokeDasharray="6 4" />
                        <circle cx="250" cy="270" r="14" className="fill-red-50 stroke-red-600 stroke-2" />
                        <text x="250" y="274" textAnchor="middle" className="text-[12px] font-bold fill-red-800">V</text>
                        <text x="250" y="296" textAnchor="middle" className="text-[12px] font-bold fill-red-600">{seriesVolts}V</text>
                      </svg>
                    </div>

                    {/* Explanation Boxes */}
                    <div className="grid grid-cols-1 gap-2 text-xs lg:text-sm">
                      <div className="bg-blue-50 p-2 lg:p-3 rounded-xl border-l-8 border-blue-500 shadow-sm">
                        <h3 className="font-bold text-blue-900 mb-1">üîµ CURRENT RULE (Amps)</h3>
                        <p className="text-blue-800 leading-tight">Current is the <strong>SAME</strong> everywhere. There is only one path. <br/><span className="font-mono bg-white px-1 py-0.5 rounded text-[10px] mt-1 inline-block shadow-inner border border-blue-200">I_total = I_1 = I_2</span></p>
                      </div>
                      <div className="bg-red-50 p-2 lg:p-3 rounded-xl border-l-8 border-red-500 shadow-sm">
                        <h3 className="font-bold text-red-900 mb-1">üî¥ VOLTAGE RULE (Volts)</h3>
                        <p className="text-red-800 leading-tight">Voltage is <strong>SHARED</strong> between components. <br/><span className="font-mono bg-white px-1 py-0.5 rounded text-[10px] mt-1 inline-block shadow-inner border border-red-200">V_total = V_1 + V_2</span></p>
                      </div>
                      <div className="bg-amber-100 p-2 lg:p-3 rounded-xl border-2 border-amber-400 shadow-sm flex items-center gap-2">
                        <span className="text-xl">‚ö†Ô∏è</span>
                        <p className="text-amber-900 font-medium leading-tight">If one bulb breaks, the circuit is broken and <strong>ALL</strong> bulbs go out!</p>
                      </div>
                    </div>
                  </div>

                  {/* RIGHT: PARALLEL CIRCUIT */}
                  <div className="w-1/2 min-w-[300px] p-2 lg:p-4 flex flex-col bg-white/50">
                    <h2 className="text-lg lg:text-xl font-bold text-center text-slate-800 mb-2 bg-white p-1 border-2 border-slate-800 rounded-lg shadow-[2px_2px_0px_#1e293b]">
                      Parallel Circuit
                    </h2>
                    
                    {/* Diagram */}
                    <div className="bg-white rounded-xl shadow-inner border-2 border-slate-300 p-2 mb-2 relative aspect-video flex items-center justify-center">
                      <svg viewBox="0 0 400 300" className="w-full h-full">
                        <path d="M 100 40 L 300 40 L 300 240 L 100 240 Z" className="stroke-slate-800 stroke-[3px] fill-none" />
                        <line x1="100" y1="140" x2="300" y2="140" className="stroke-slate-800 stroke-[3px]" />

                        <line x1="180" y1="40" x2="220" y2="40" className="stroke-white stroke-[8px]" />
                        <line x1="100" y1="65" x2="100" y2="105" className="stroke-white stroke-[8px]" />
                        <line x1="120" y1="40" x2="160" y2="40" className="stroke-white stroke-[8px]" />
                        <line x1="200" y1="140" x2="240" y2="140" className="stroke-white stroke-[8px]" />
                        <line x1="200" y1="240" x2="240" y2="240" className="stroke-white stroke-[8px]" />
                        <line x1="140" y1="140" x2="180" y2="140" className="stroke-white stroke-[8px]" />
                        <line x1="140" y1="240" x2="180" y2="240" className="stroke-white stroke-[8px]" />

                        {pMainFlow && (
                          <path d="M 100 105 L 100 140 M 100 40 L 120 40 M 160 40 L 180 40 M 220 40 L 300 40 L 300 140" className="electrons" />
                        )}
                        {pBranch1Flow && (
                          <path d="M 100 140 L 140 140 M 180 140 L 200 140 M 240 140 L 300 140" className="electrons" />
                        )}
                        {pBranch2Flow && (
                          <path d="M 100 140 L 100 240 L 140 240 M 180 240 L 200 240 M 240 240 L 300 240 L 300 140" className="electrons" />
                        )}

                        <line x1="190" y1="20" x2="190" y2="60" className="stroke-slate-800 stroke-[2px]" />
                        <line x1="210" y1="30" x2="210" y2="50" className="stroke-slate-800 stroke-[5px]" />
                        <text x="200" y="15" textAnchor="middle" className="text-[12px] font-bold fill-slate-600">9V Cell</text>

                        <Switch x={100} y={65} isClosed={parallelSwitch} isVertical={true} onClick={() => setParallelSwitch(!parallelSwitch)} />

                        <circle cx="140" cy="40" r="16" className="fill-blue-50 stroke-blue-600 stroke-2" />
                        <text x="140" y="44" textAnchor="middle" className="text-[14px] font-bold fill-blue-800">A</text>
                        <text x="140" y="70" textAnchor="middle" className="text-[12px] font-bold fill-blue-600">{pTotalAmps}A</text>

                        <circle cx="160" cy="140" r="14" className="fill-blue-50 stroke-blue-600 stroke-2" />
                        <text x="160" y="144" textAnchor="middle" className="text-[12px] font-bold fill-blue-800">A</text>
                        <text x="160" y="166" textAnchor="middle" className="text-[10px] font-bold fill-blue-600">{pBranch1Amps.toFixed(1)}A</text>
                        
                        <Bulb x={220} y={140} isBroken={parallelB1Broken} isGlowing={pBranch1Flow} label="Bulb 1" onClick={() => setParallelB1Broken(!parallelB1Broken)} />
                        
                        <path d="M 195 140 L 195 100 L 245 100 L 245 140" className="stroke-red-400 stroke-[2px] border-dashed fill-none" strokeDasharray="6 4" />
                        <circle cx="220" cy="100" r="12" className="fill-red-50 stroke-red-600 stroke-2" />
                        <text x="220" y="104" textAnchor="middle" className="text-[10px] font-bold fill-red-800">V</text>
                        <text x="220" y="80" textAnchor="middle" className="text-[12px] font-bold fill-red-600">{pBranch1Volts}V</text>

                        <circle cx="160" cy="240" r="14" className="fill-blue-50 stroke-blue-600 stroke-2" />
                        <text x="160" y="244" textAnchor="middle" className="text-[12px] font-bold fill-blue-800">A</text>
                        <text x="160" y="266" textAnchor="middle" className="text-[10px] font-bold fill-blue-600">{pBranch2Amps.toFixed(1)}A</text>

                        <Bulb x={220} y={240} isBroken={parallelB2Broken} isGlowing={pBranch2Flow} label="Bulb 2" onClick={() => setParallelB2Broken(!parallelB2Broken)} />

                        <path d="M 195 240 L 195 200 L 245 200 L 245 240" className="stroke-red-400 stroke-[2px] border-dashed fill-none" strokeDasharray="6 4" />
                        <circle cx="220" cy="200" r="12" className="fill-red-50 stroke-red-600 stroke-2" />
                        <text x="220" y="204" textAnchor="middle" className="text-[10px] font-bold fill-red-800">V</text>
                        <text x="220" y="180" textAnchor="middle" className="text-[12px] font-bold fill-red-600">{pBranch2Volts}V</text>
                      </svg>
                    </div>

                    {/* Explanation Boxes */}
                    <div className="grid grid-cols-1 gap-2 text-xs lg:text-sm">
                      <div className="bg-blue-50 p-2 lg:p-3 rounded-xl border-l-8 border-blue-500 shadow-sm">
                        <h3 className="font-bold text-blue-900 mb-1">üîµ CURRENT RULE (Amps)</h3>
                        <p className="text-blue-800 leading-tight">Current <strong>SPLITS</strong> across the branches. <br/><span className="font-mono bg-white px-1 py-0.5 rounded text-[10px] mt-1 inline-block shadow-inner border border-blue-200">I_total = I_1 + I_2</span></p>
                      </div>
                      <div className="bg-red-50 p-2 lg:p-3 rounded-xl border-l-8 border-red-500 shadow-sm">
                        <h3 className="font-bold text-red-900 mb-1">üî¥ VOLTAGE RULE (Volts)</h3>
                        <p className="text-red-800 leading-tight">Voltage is the <strong>SAME</strong> across every branch. <br/><span className="font-mono bg-white px-1 py-0.5 rounded text-[10px] mt-1 inline-block shadow-inner border border-red-200">V_total = V_1 = V_2</span></p>
                      </div>
                      <div className="bg-green-100 p-2 lg:p-3 rounded-xl border-2 border-green-500 shadow-sm flex items-center gap-2">
                        <span className="text-xl">üåü</span>
                        <p className="text-green-900 font-medium leading-tight">If one bulb breaks, only that branch is broken. The others <strong>STAY ON!</strong></p>
                      </div>
                    </div>
                  </div>
                </div>

                {/* BOTTOM: THE GOLDEN RULES TABLE */}
                <div className="bg-slate-800 text-white p-2 shrink-0">
                  <h2 className="text-base lg:text-lg font-bold text-center text-amber-400 mb-1 tracking-widest uppercase">The Golden Rules Summary</h2>
                  <div className="overflow-x-auto rounded-lg border border-slate-600">
                    <table className="w-full text-left text-[10px] lg:text-xs bg-slate-900">
                      <thead>
                        <tr className="bg-slate-950">
                          <th className="p-2 border-b border-r border-slate-700 w-1/4">Feature</th>
                          <th className="p-2 border-b border-r border-slate-700 text-center w-3/8 text-blue-300">Series Circuit</th>
                          <th className="p-2 border-b border-slate-700 text-center w-3/8 text-emerald-300">Parallel Circuit</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td className="p-2 border-b border-r border-slate-700 font-bold text-blue-400">Current (A)</td>
                          <td className="p-2 border-b border-r border-slate-700 text-center">Same everywhere</td>
                          <td className="p-2 border-b border-slate-700 text-center">Shared between branches</td>
                        </tr>
                        <tr>
                          <td className="p-2 border-b border-r border-slate-700 font-bold text-red-400">Voltage (V)</td>
                          <td className="p-2 border-b border-r border-slate-700 text-center">Shared between components</td>
                          <td className="p-2 border-b border-slate-700 text-center">Same across all branches</td>
                        </tr>
                        <tr className="bg-slate-800">
                          <td className="p-2 border-r border-slate-700 font-bold text-amber-400">Real Life Use</td>
                          <td className="p-2 border-r border-slate-700 text-center text-slate-300">Fairy lights, simple toys</td>
                          <td className="p-2 border-slate-700 text-center text-slate-300">House lighting, plug sockets</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>

              </div>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
